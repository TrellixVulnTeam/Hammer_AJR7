# 编写 Model 引入模型

编写 Model 时有一个原则：模型抽离 Hammer 框架也能很轻松地使用，也就是说不同模型之间最好不要有依赖，共用的基础结构在不同模型间有冗余也没关系， **兼容性和灵活性** 是编写模型的首要考虑。

## 步骤

1. 在 `models/` 下新建 Python 文件，在文件中按你所熟悉的方法编写网络结构，注意如果遇到和已有项目共用的基础结构，复制一份到此文件中；
2. 在 `models/__init__.py` 中注册该模型；
3. 调用 `build_model()` 构建模型实例，测试是否符合预期。

## 实践建议

1. 尽量不要引用本地其它文件中的网络结构（再三强调）；
2. 区分哪些参数是和模型本身相关的，而哪些不是并拎出去（常见的问题是将计算 loss 相关的参数也写到了模型里）；
3. 区分哪些是初始化模型需要的参数 （需写在 `__init__()` 中），而哪些只需要运行时提供就行（写在 `forward()` 中）。